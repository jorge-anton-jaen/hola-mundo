<div class="contenedor-servicios">
  <h1>Mantenimiento de Servicios</h1>
  <p>Administra los servicios realizados en colonias y otras ubicaciones.</p>
  <div class="filtro-servicios">
    <div class="mb-3">
      <label class="form-label">Buscar por aviso</label>
      <input type="text" class="form-control" [(ngModel)]="filtroAviso" (input)="filtrar()" placeholder="Aviso">
    </div>
    <div class="mb-3">
      <label class="form-label">Buscar por poblaci칩n</label>
      <input type="text" class="form-control" [(ngModel)]="filtroPoblacion" (input)="filtrar()" placeholder="Poblaci칩n">
    </div>
    <button type="button" class="btn btn-primary" (click)="abrirDialogoNuevoServicio()">
      <i class="bi bi-plus"></i>
      A침adir Servicio
    </button>
  </div>

  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Aviso</th>
        <th>Inicio</th>
        <th>Fin</th>
        <th>Poblaci칩n</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (servicio of serviciosFiltrados; track servicio) {
        <tr>
          <td>{{ servicio.aviso }}</td>
          <td>{{ servicio.fechaInicio | date }}</td>
          <td>{{ servicio.fechaFin | date }}</td>
          <td>{{ servicio.poblacion }}</td>
          <td>
            <button class="btn btn-sm btn-outline-primary me-1" (click)="editarServicio(servicio)">
              <i class="bi bi-plus"></i>
            </button>
            <button class="btn btn-sm btn-outline-danger" (click)="eliminarServicio(servicio)">
              <i class="bi bi-plus"></i>
            </button>
          </td>
        </tr>
      }
    </tbody>
  </table>

  @if (mostrarFormularioServicio) {
    <app-formulario-servicio
      [servicio]="servicioEditando"
      (cancelar)="cerrarFormularioServicio()">
    </app-formulario-servicio>
  }
</div>